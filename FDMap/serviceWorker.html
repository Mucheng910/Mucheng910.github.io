<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>service worker | ä¸ªäººä¸»é¡µ</title>
    <meta name="description" content="ğŸ™…â€â™€ ï¸">
    <link rel="icon" href="/images/photo.jpg">
  <link rel="manifest" href="/images/photo.jpg">
  <link rel="apple-touch-icon" href="/images/photo.jpg">
  <meta http-quiv="pragma" cotent="no-cache">
  <meta http-quiv="pragma" cotent="no-cache,must-revalidate">
  <meta http-quiv="expires" cotent="0">
    
    <link rel="preload" href="/assets/css/0.styles.019fe3db.css" as="style"><link rel="preload" href="/assets/js/app.2f1a430a.js" as="script"><link rel="preload" href="/assets/js/2.9b2c206e.js" as="script"><link rel="preload" href="/assets/js/15.5de4fd9d.js" as="script"><link rel="prefetch" href="/assets/js/10.d86863eb.js"><link rel="prefetch" href="/assets/js/11.d4d61c2e.js"><link rel="prefetch" href="/assets/js/12.95b245e3.js"><link rel="prefetch" href="/assets/js/13.1c239170.js"><link rel="prefetch" href="/assets/js/14.f024cc80.js"><link rel="prefetch" href="/assets/js/16.f8de4d03.js"><link rel="prefetch" href="/assets/js/17.81c209fd.js"><link rel="prefetch" href="/assets/js/18.4c806343.js"><link rel="prefetch" href="/assets/js/19.8c84f996.js"><link rel="prefetch" href="/assets/js/20.04d25bb0.js"><link rel="prefetch" href="/assets/js/21.b85557f7.js"><link rel="prefetch" href="/assets/js/22.05d24f4b.js"><link rel="prefetch" href="/assets/js/23.d6deae95.js"><link rel="prefetch" href="/assets/js/24.e173d551.js"><link rel="prefetch" href="/assets/js/25.e3a6df6a.js"><link rel="prefetch" href="/assets/js/3.0d0a0e26.js"><link rel="prefetch" href="/assets/js/4.1ff495fc.js"><link rel="prefetch" href="/assets/js/5.22eb5b29.js"><link rel="prefetch" href="/assets/js/6.da41dc8e.js"><link rel="prefetch" href="/assets/js/7.2fb52b55.js"><link rel="prefetch" href="/assets/js/8.47df7628.js"><link rel="prefetch" href="/assets/js/9.e2e98ae7.js">
    <link rel="stylesheet" href="/assets/css/0.styles.019fe3db.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">ä¸ªäººä¸»é¡µ</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/FDMap/" class="nav-link router-link-active">å‰ç«¯åŸºç¡€</a></div><div class="nav-item"><a href="/liCoding/" class="nav-link">æ‰‹æ’•ä»£ç </a></div><div class="nav-item"><a href="/FDModule/" class="nav-link">è®¾è®¡æ¨¡å¼</a></div><div class="nav-item"><a href="https://github.com/Mucheng910" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/FDMap/" class="nav-link router-link-active">å‰ç«¯åŸºç¡€</a></div><div class="nav-item"><a href="/liCoding/" class="nav-link">æ‰‹æ’•ä»£ç </a></div><div class="nav-item"><a href="/FDModule/" class="nav-link">è®¾è®¡æ¨¡å¼</a></div><div class="nav-item"><a href="https://github.com/Mucheng910" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>åŸºç¡€</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/FDMap/" class="sidebar-link">HTML</a></li><li><a href="/FDMap/CSS.html" class="sidebar-link">CSS</a></li><li><a href="/FDMap/JS.html" class="sidebar-link">JS</a></li><li><a href="/FDMap/DOM.html" class="sidebar-link">Dom</a></li><li><a href="/FDMap/ES6.html" class="sidebar-link">ES6</a></li><li><a href="/FDMap/webWorker.html" class="sidebar-link">web Worker</a></li><li><a href="/FDMap/webSocket.html" class="sidebar-link">web Socket</a></li><li><a href="/FDMap/serviceWorker.html" class="active sidebar-link">service worker</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/FDMap/serviceWorker.html#ç”Ÿå‘½å‘¨æœŸï¼š" class="sidebar-link">ç”Ÿå‘½å‘¨æœŸï¼š</a></li><li class="sidebar-sub-header"><a href="/FDMap/serviceWorker.html#å·²è§£æï¼ˆparsedï¼‰" class="sidebar-link">å·²è§£æï¼ˆParsedï¼‰:</a></li><li class="sidebar-sub-header"><a href="/FDMap/serviceWorker.html#æ­£åœ¨å®‰è£…ï¼ˆinstallingï¼‰" class="sidebar-link">æ­£åœ¨å®‰è£…ï¼ˆinstallingï¼‰</a></li><li class="sidebar-sub-header"><a href="/FDMap/serviceWorker.html#å·²å®‰è£…ï¼ˆinstalled-waitingï¼‰" class="sidebar-link">å·²å®‰è£…ï¼ˆinstalled/waitingï¼‰</a></li><li class="sidebar-sub-header"><a href="/FDMap/serviceWorker.html#æ­£åœ¨æ¿€æ´»ï¼ˆactivatingï¼‰" class="sidebar-link">æ­£åœ¨æ¿€æ´»ï¼ˆActivatingï¼‰</a></li><li class="sidebar-sub-header"><a href="/FDMap/serviceWorker.html#å·²æ¿€æ´»çŠ¶æ€ï¼ˆactivatedï¼‰ï¼š" class="sidebar-link">å·²æ¿€æ´»çŠ¶æ€ï¼ˆActivatedï¼‰ï¼š</a></li><li class="sidebar-sub-header"><a href="/FDMap/serviceWorker.html#å†—ä½™ï¼ˆredundantï¼‰ï¼š" class="sidebar-link">å†—ä½™ï¼ˆRedundantï¼‰ï¼š</a></li></ul></li><li><a href="/FDMap/PWA.html" class="sidebar-link">PWA</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>è¿›é˜¶</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ç½‘ç»œ</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="service-worker"><a href="#service-worker" aria-hidden="true" class="header-anchor">#</a> service worker</h1> <p>Service Workeré™¤äº†å¯ä»¥ç¼“å­˜å’Œç¦»çº¿å¼€å‘ï¼Œå…¶å¯ä»¥åº”ç”¨çš„åœºæ™¯è¿˜æœ‰å¾ˆå¤šï¼Œä¸¾å‡ ä¸ªä¾‹å­ï¼ˆå‚è€ƒè‡ª<a href="https://developer.mozilla.org/en-US/docs/Web/API/Service_Worker_API" target="_blank" rel="noopener noreferrer">MDN<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>ï¼‰ï¼š</p> <ul><li>åå°æ•°æ®åŒæ­¥</li> <li>å“åº”æ¥è‡ªå…¶å®ƒæºçš„èµ„æºè¯·æ±‚ï¼Œ</li> <li>é›†ä¸­æ¥æ”¶è®¡ç®—æˆæœ¬é«˜çš„æ•°æ®æ›´æ–°ï¼Œæ¯”å¦‚åœ°ç†ä½ç½®å’Œé™€èºä»ªä¿¡æ¯ï¼Œè¿™æ ·å¤šä¸ªé¡µé¢å°±å¯ä»¥åˆ©ç”¨åŒä¸€ç»„æ•°æ®</li> <li>åœ¨å®¢æˆ·ç«¯è¿›è¡ŒCoffeeScriptï¼ŒLESSï¼ŒCJS/AMDç­‰æ¨¡å—ç¼–è¯‘å’Œä¾èµ–ç®¡ç†ï¼ˆç”¨äºå¼€å‘ç›®çš„ï¼‰</li> <li>åå°æœåŠ¡é’©å­</li> <li>è‡ªå®šä¹‰æ¨¡æ¿ç”¨äºç‰¹å®šURLæ¨¡å¼</li> <li>æ€§èƒ½å¢å¼ºï¼Œæ¯”å¦‚é¢„å–ç”¨æˆ·å¯èƒ½éœ€è¦çš„èµ„æºï¼Œæ¯”å¦‚ç›¸å†Œä¸­çš„åé¢æ•°å¼ å›¾ç‰‡</li></ul> <h2 id="ç”Ÿå‘½å‘¨æœŸï¼š"><a href="#ç”Ÿå‘½å‘¨æœŸï¼š" aria-hidden="true" class="header-anchor">#</a> ç”Ÿå‘½å‘¨æœŸï¼š</h2> <p><img src="https://github.com/Mucheng910/image/blob/master/serviceWorker%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F.png?raw=true" alt="å±å¹•å¿«ç…§ 2019-09-10 ä¸‹åˆ12.06.47"></p> <h2 id="å·²è§£æï¼ˆparsedï¼‰"><a href="#å·²è§£æï¼ˆparsedï¼‰" aria-hidden="true" class="header-anchor">#</a> å·²è§£æï¼ˆParsedï¼‰:</h2> <ul><li>å½“æˆ‘ä»¬ç¬¬ä¸€æ¬¡å°è¯•æ³¨å†Œä¸€ä¸ª Service Worker çš„æ—¶å€™ï¼Œç”¨æˆ·ä»£ç†ï¼ˆæµè§ˆå™¨ï¼‰è§£æè„šæœ¬å¹¶è·å–å…¥å£ç‚¹ã€‚å¦‚æœè§£ææˆåŠŸï¼ˆå¹¶ä¸”å…¶ä»–æ¯”å¦‚ HTTPS çš„æ¡ä»¶æ»¡è¶³ï¼‰ï¼Œæˆ‘ä»¬å°±å¯ä»¥è®¿é—® Service Worker çš„ registration å¯¹è±¡ã€‚</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">'serviceWorker'</span> <span class="token keyword">in</span> navigator<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    navigator<span class="token punctuation">.</span>serviceWorker<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token string">'./sw.js'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">registration</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Service Worker Registered&quot;</span><span class="token punctuation">,</span> registration<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Service Worker Failed to Register&quot;</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="æ­£åœ¨å®‰è£…ï¼ˆinstallingï¼‰"><a href="#æ­£åœ¨å®‰è£…ï¼ˆinstallingï¼‰" aria-hidden="true" class="header-anchor">#</a> æ­£åœ¨å®‰è£…ï¼ˆinstallingï¼‰</h2> <ul><li>ä¸€æ—¦ Service Worker è„šæœ¬å·²ç»è¢«è§£æï¼Œç”¨æˆ·ä»£ç†ï¼ˆæµè§ˆå™¨ï¼‰å°±å‡†å¤‡å®‰è£…å®ƒï¼Œå®ƒå¼€å§‹è¿›å…¥æ­£åœ¨å®‰è£…çš„çŠ¶æ€ã€‚åœ¨ Service Worker çš„ <code>registration</code> å¯¹è±¡ä¸­ï¼Œæˆ‘ä»¬èƒ½å¤Ÿé€šè¿‡æ£€æŸ¥ <code>installing</code> å±æ€§æ¥çŸ¥é“å®ƒæ˜¯å¦å¤„äºæ­£åœ¨å®‰è£…çš„çŠ¶æ€ã€‚</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>navigator<span class="token punctuation">.</span>serviceWorker<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token string">'./sw.js'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">registration</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>registration<span class="token punctuation">.</span>installing<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// Service Worker is Installing</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="å·²å®‰è£…ï¼ˆinstalled-waitingï¼‰"><a href="#å·²å®‰è£…ï¼ˆinstalled-waitingï¼‰" aria-hidden="true" class="header-anchor">#</a> å·²å®‰è£…ï¼ˆinstalled/waitingï¼‰</h2> <ul><li>å¦‚æœå®‰è£…æˆåŠŸï¼ŒService Worker çš„çŠ¶æ€å˜ä¸ºå·²å®‰è£…ï¼ˆ<strong>installed</strong>ï¼‰ï¼Œä¹Ÿè¢«ç§°ä¸ºç­‰å¾…ä¸­ï¼ˆ<strong>waiting</strong>ï¼‰ã€‚å¤„äºè¿™ä¸ªçŠ¶æ€ä»£è¡¨å®ƒæ˜¯ä¸€ä¸ªåˆæ³•çš„ï¼Œä½†å¹¶æœªè¢«æ¿€æ´»çš„ workerã€‚å®ƒè¿˜æ²¡æœ‰æ§åˆ¶æ–‡æ¡£ï¼Œæˆ–è€…åº”è¯¥è¯´æ˜¯å®ƒæ­£å‡†å¤‡ä»å½“å‰ worker é‚£é‡Œæ¥ç®¡æ–‡æ¡£ã€‚</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>navigator<span class="token punctuation">.</span>serviceWorker<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token string">'./sw.js'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">registration</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>registration<span class="token punctuation">.</span>waiting<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// Service Worker is Waiting</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="æ­£åœ¨æ¿€æ´»ï¼ˆactivatingï¼‰"><a href="#æ­£åœ¨æ¿€æ´»ï¼ˆactivatingï¼‰" aria-hidden="true" class="header-anchor">#</a> æ­£åœ¨æ¿€æ´»ï¼ˆActivatingï¼‰</h2> <ul><li><p>åœ¨å¦‚ä¸‹å‡ ä¸ªåœºæ™¯ä¸‹ï¼Œä¸€ä¸ªå¤„äº waiting çŠ¶æ€çš„ Service Worker ä¼šè¢«è§¦å‘ï¼Œæˆä¸º activating çŠ¶æ€ï¼š</p> <ul><li>å½“å‰æ²¡æœ‰æ¿€æ´»çš„ worker</li> <li>å¦‚æœåœ¨ Service Worker çš„è„šæœ¬ä¸­ <code>self.skipWaiting()</code> è¢«è°ƒç”¨</li> <li>å¦‚æœç”¨æˆ·è®¿é—®å…¶ä»–é¡µé¢å¹¶é‡Šæ”¾äº†ä¹‹å‰æ¿€æ´»çš„ worker</li> <li>åœ¨ä¸€ä¸ªç‰¹å®šçš„æ—¶é—´è¿‡å»åï¼Œä¹‹å‰ä¸€ä¸ªæ¿€æ´»çš„ worker è¢«é‡Šæ”¾</li></ul> <p>å¤„äºæ­£åœ¨æ¿€æ´»ï¼ˆactivatingï¼‰çŠ¶æ€ä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ Service Worker è„šæœ¬ä¸­å¤„ç† <code>activate</code> äº‹ä»¶ã€‚åœ¨ä¸€ä¸ªå…¸å‹çš„ activate äº‹ä»¶ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æ¸…é™¤ç¼“å­˜ä¸­çš„æ–‡ä»¶ã€‚</p></li></ul> <div class="language-js extra-class"><pre class="language-js"><code>self<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'activate'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  event<span class="token punctuation">.</span><span class="token function">waitUntil</span><span class="token punctuation">(</span>
    <span class="token comment">// Get all the cache names</span>
    caches<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">cacheNames</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span>
        <span class="token comment">// Get all the items that are stored under a different cache name than the current one</span>
        cacheNames<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">cacheName</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> cacheName <span class="token operator">!=</span> currentCacheName<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">cacheName</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token comment">// Delete the items</span>
          <span class="token keyword">return</span> caches<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>cacheName<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// end Promise.all()</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// end caches.keys()</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// end event.waitUntil()</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="å·²æ¿€æ´»çŠ¶æ€ï¼ˆactivatedï¼‰ï¼š"><a href="#å·²æ¿€æ´»çŠ¶æ€ï¼ˆactivatedï¼‰ï¼š" aria-hidden="true" class="header-anchor">#</a> å·²æ¿€æ´»çŠ¶æ€ï¼ˆActivatedï¼‰ï¼š</h2> <ul><li>å¦‚æœæ¿€æ´»æˆåŠŸäº†ï¼ŒService Worker å˜ä¸ºæ¿€æ´»ï¼ˆactiveï¼‰çŠ¶æ€ã€‚å¦‚æœå¤„äºæ­¤çŠ¶æ€ï¼Œé‚£ä¹ˆå®ƒå°±æ˜¯ä¸€ä¸ªå®Œæˆæ§åˆ¶ç€æ–‡æ¡£çš„æ¿€æ´»äº†çš„ workerã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>active</code> å±æ€§æ¥æ£€æŸ¥å®ƒæ˜¯å¦å¤„äºæ­¤çŠ¶æ€</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>navigator<span class="token punctuation">.</span>serviceWorker<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token string">'./sw.js'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">registration</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>registration<span class="token punctuation">.</span>active<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// Service Worker is Active</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="å†—ä½™ï¼ˆredundantï¼‰ï¼š"><a href="#å†—ä½™ï¼ˆredundantï¼‰ï¼š" aria-hidden="true" class="header-anchor">#</a> å†—ä½™ï¼ˆRedundantï¼‰ï¼š</h2> <ul><li><p>ä¸€ä¸ª Service Worker å˜æˆå†—ä½™çŠ¶æ€å¯ä»¥æœ‰å¦‚ä¸‹å‡ ä¸ªåŸå› ï¼š</p> <ul><li>å¤„äº installing çŠ¶æ€æ—¶å®‰è£…å¤±è´¥</li></ul> <ul><li>å¤„äº activating çŠ¶æ€æ—¶æ¿€æ´»å¤±è´¥</li> <li>ä¸€ä¸ªæ–°çš„ Service Worker ä»£æ›¿äº†å®ƒç§°ä¸ºäº†æ¿€æ´»çš„ Service Worker</li></ul></li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      â†
      <a href="/FDMap/webSocket.html" class="prev">web Socket</a></span> <span class="next"><a href="/FDMap/PWA.html">PWA</a>â†’
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.2f1a430a.js" defer></script><script src="/assets/js/2.9b2c206e.js" defer></script><script src="/assets/js/15.5de4fd9d.js" defer></script>
  </body>
</html>
