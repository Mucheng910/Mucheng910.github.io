<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>BOM | 个人主页</title>
    <meta name="description" content="🙅‍♀ ️">
    <link rel="icon" href="/images/photo.jpg">
  <link rel="manifest" href="/images/photo.jpg">
  <link rel="apple-touch-icon" href="/images/photo.jpg">
  <meta http-quiv="pragma" cotent="no-cache">
  <meta http-quiv="pragma" cotent="no-cache,must-revalidate">
  <meta http-quiv="expires" cotent="0">
    
    <link rel="preload" href="/assets/css/0.styles.019fe3db.css" as="style"><link rel="preload" href="/assets/js/app.81045a9c.js" as="script"><link rel="preload" href="/assets/js/2.9b2c206e.js" as="script"><link rel="preload" href="/assets/js/5.9aadbdc1.js" as="script"><link rel="prefetch" href="/assets/js/10.c56fd175.js"><link rel="prefetch" href="/assets/js/11.cf27f557.js"><link rel="prefetch" href="/assets/js/12.90b97f42.js"><link rel="prefetch" href="/assets/js/13.111bb62c.js"><link rel="prefetch" href="/assets/js/14.0f643126.js"><link rel="prefetch" href="/assets/js/15.ac2b0c08.js"><link rel="prefetch" href="/assets/js/16.bd74a493.js"><link rel="prefetch" href="/assets/js/17.14cb9a37.js"><link rel="prefetch" href="/assets/js/18.75410ea0.js"><link rel="prefetch" href="/assets/js/19.905bc299.js"><link rel="prefetch" href="/assets/js/20.07e4c8cc.js"><link rel="prefetch" href="/assets/js/21.59783a47.js"><link rel="prefetch" href="/assets/js/22.97731d84.js"><link rel="prefetch" href="/assets/js/23.47643b35.js"><link rel="prefetch" href="/assets/js/24.86bab49f.js"><link rel="prefetch" href="/assets/js/25.0d6fb481.js"><link rel="prefetch" href="/assets/js/26.fdacd15c.js"><link rel="prefetch" href="/assets/js/3.b6959132.js"><link rel="prefetch" href="/assets/js/4.1ff495fc.js"><link rel="prefetch" href="/assets/js/6.e8994502.js"><link rel="prefetch" href="/assets/js/7.c200c714.js"><link rel="prefetch" href="/assets/js/8.e5cc7dcc.js"><link rel="prefetch" href="/assets/js/9.4a9d486a.js">
    <link rel="stylesheet" href="/assets/css/0.styles.019fe3db.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">个人主页</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/FDMap/" class="nav-link router-link-active">前端基础</a></div><div class="nav-item"><a href="/liCoding/" class="nav-link">手撕代码</a></div><div class="nav-item"><a href="/FDModule/" class="nav-link">设计模式</a></div><div class="nav-item"><a href="https://github.com/Mucheng910" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/FDMap/" class="nav-link router-link-active">前端基础</a></div><div class="nav-item"><a href="/liCoding/" class="nav-link">手撕代码</a></div><div class="nav-item"><a href="/FDModule/" class="nav-link">设计模式</a></div><div class="nav-item"><a href="https://github.com/Mucheng910" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>基础</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/FDMap/" class="sidebar-link">HTML</a></li><li><a href="/FDMap/CSS.html" class="sidebar-link">CSS</a></li><li><a href="/FDMap/JS.html" class="sidebar-link">JS</a></li><li><a href="/FDMap/DOM.html" class="sidebar-link">Dom</a></li><li><a href="/FDMap/BOM.html" class="active sidebar-link">BOM</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/FDMap/BOM.html#js引擎相关" class="sidebar-link">js引擎相关</a></li><li class="sidebar-sub-header"><a href="/FDMap/BOM.html#window对象" class="sidebar-link">window对象</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/FDMap/BOM.html#window位置大小属性" class="sidebar-link">window位置大小属性</a></li><li class="sidebar-sub-header"><a href="/FDMap/BOM.html#组件属性" class="sidebar-link">组件属性</a></li><li class="sidebar-sub-header"><a href="/FDMap/BOM.html#全局对象属性" class="sidebar-link">全局对象属性</a></li></ul></li><li class="sidebar-sub-header"><a href="/FDMap/BOM.html#navigator-对象" class="sidebar-link">navigator 对象</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/FDMap/BOM.html#属性：" class="sidebar-link">属性：</a></li><li class="sidebar-sub-header"><a href="/FDMap/BOM.html#方法：" class="sidebar-link">方法：</a></li></ul></li><li class="sidebar-sub-header"><a href="/FDMap/BOM.html#screen-对象" class="sidebar-link">screen 对象</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/FDMap/BOM.html#属性：-2" class="sidebar-link">属性：</a></li><li class="sidebar-sub-header"><a href="/FDMap/BOM.html#方法" class="sidebar-link">方法</a></li></ul></li><li class="sidebar-sub-header"><a href="/FDMap/BOM.html#cookie" class="sidebar-link">Cookie</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/FDMap/BOM.html#cookie与http协议" class="sidebar-link">cookie与http协议</a></li></ul></li><li class="sidebar-sub-header"><a href="/FDMap/BOM.html#storage-对象" class="sidebar-link">Storage 对象</a></li><li class="sidebar-sub-header"><a href="/FDMap/BOM.html#history-对象" class="sidebar-link">History 对象</a></li><li class="sidebar-sub-header"><a href="/FDMap/BOM.html#location-对象" class="sidebar-link">Location 对象</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/FDMap/BOM.html#属性：-3" class="sidebar-link">属性：</a></li><li class="sidebar-sub-header"><a href="/FDMap/BOM.html#方法：-2" class="sidebar-link">方法：</a></li></ul></li></ul></li><li><a href="/FDMap/ES6.html" class="sidebar-link">ES6</a></li><li><a href="/FDMap/webWorker.html" class="sidebar-link">web Worker</a></li><li><a href="/FDMap/webSocket.html" class="sidebar-link">web Socket</a></li><li><a href="/FDMap/serviceWorker.html" class="sidebar-link">service worker</a></li><li><a href="/FDMap/PWA.html" class="sidebar-link">PWA</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>进阶</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>网络</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="bom"><a href="#bom" aria-hidden="true" class="header-anchor">#</a> BOM</h1> <h2 id="js引擎相关"><a href="#js引擎相关" aria-hidden="true" class="header-anchor">#</a> js引擎相关</h2> <p>浏览器内核分为两部分 ： <strong>渲染引擎</strong>  和   <strong>js引擎</strong></p> <ul><li>Firefox：
<ul><li>Gecko  渲染引擎</li> <li>SpiderMonkey（1.0-3.0）/ TraceMonkey（3.5-3.6）/ JaegerMonkey（4.0-）js 引擎</li></ul></li> <li>Safari：
<ul><li>WebKit  渲染引擎</li> <li>Nitro（4-）js 引擎</li></ul></li> <li>Chrome：
<ul><li>Blink  渲染引擎</li> <li>V8   js 引擎</li></ul></li> <li>IE:
<ul><li>Trident 渲染引擎</li> <li>JScript（IE3.0-IE8.0）  js 引擎</li></ul></li> <li>Edge:
<ul><li>EdgeHTML 渲染引擎</li> <li>Chakra   js 引擎</li></ul></li></ul> <blockquote><p>Web浏览器一般使用公共 API来创建主机对象来负责将DOM对象反射进JavaScript。JS引擎负责对JavaScript进行解释、编译和执行，以使网页达到一些动态的效果。</p></blockquote> <h2 id="window对象"><a href="#window对象" aria-hidden="true" class="header-anchor">#</a> window对象</h2> <ol><li><p><code>window.name = 'ql'</code></p> <blockquote><p>只要浏览器窗口不关闭，这个属性是不会消失的。举例来说，访问<code>a.com</code>时，该页面的脚本设置了<code>window.name</code>，接下来在同一个窗口里面载入了<code>b.com</code>，新页面的脚本可以读到上一个网页设置的<code>window.name</code>。页面刷新也是这种情况。一旦浏览器窗口关闭后，该属性保存的值就会消失，因为这时窗口已经不存在了。</p></blockquote></li> <li><p><code>window.closed</code>,<code>window.opener</code></p> <blockquote><p>表示窗口是否关闭</p> <div class="language-js extra-class"><pre class="language-js"><code>window<span class="token punctuation">.</span>closed <span class="token comment">// false</span>
window<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
window<span class="token punctuation">.</span>opener
<span class="token comment">//window.opener属性表示打开当前窗口的父窗口。如果当前窗口没有父窗口（即直接在地址栏输入打开），则返回null。</span>
</code></pre></div></blockquote></li> <li><p><code>window.self === window.window</code></p></li> <li><p><code>window.frames</code></p></li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>html<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>frameset rows<span class="token operator">=</span><span class="token string">'160,*&quot;'</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>frame src<span class="token operator">=</span><span class="token string">&quot;http://www.runoob.com&quot;</span> name<span class="token operator">=</span><span class="token string">&quot;1&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>frameset cols<span class="token operator">=</span><span class="token string">&quot;50%,50%&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>frame src<span class="token operator">=</span><span class="token string">&quot;http://www.runoob.com&quot;</span> name<span class="token operator">=</span><span class="token string">&quot;2&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>frame src<span class="token operator">=</span><span class="token string">&quot;http://www.runoob.com&quot;</span> name<span class="token operator">=</span><span class="token string">&quot;3&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>frameset<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>frameset<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">&gt;</span>
</code></pre></div><p><code>window.frames</code>  返回类数组对象</p> <p><code>window.frames.length</code>  //3 返回有几个frame 框架</p> <p><code>window.frame[0]</code>返回第一个框架window对象</p> <h3 id="window位置大小属性"><a href="#window位置大小属性" aria-hidden="true" class="header-anchor">#</a> window位置大小属性</h3> <ol><li><p><code>window.screenX</code> <code>window.screenY</code></p> <p>返回浏览器窗口左上角相对于当前屏幕左上角的水平距离和垂直距离（单位像素）。这两个属性只读。</p></li> <li><p><code>window.innerHeight</code> <code>window.innerwidth</code></p> <p>返回网页在当前窗口中可见部分的高度和宽度，不包括菜单栏 即“视口”（viewport）的大小（单位像素）   只读</p></li> <li><p><code>window.outerHeight</code> <code>window.outerWidth</code></p> <p>属性返回浏览器窗口的高度和宽度，包括浏览器菜单和边框（单位像素)</p></li> <li><p><code>window.scrollX</code> <code>window.scrollY</code></p> <p><code>window.scrollX</code>属性返回页面的水平滚动距离，<code>window.scrollY</code>属性返回页面的垂直滚动距离，单位都为像素。这两个属性只读。(滚动到的地方) 也称 <code>window.pageXoffset</code> <code>window.pageYoffset</code></p></li> <li><p><code>window.moveTo()</code> <code>window.moveBy()</code></p> <ul><li>方法用于移动浏览器窗口到指定位置。它接受两个参数，分别是窗口左上角距离屏幕左上角的水平距离和垂直距离</li> <li>方法将窗口移动到一个相对位置。它接受两个参数，分布是窗口左上角向右移动的水平距离和向下移动的垂直距离，单位为像素</li></ul></li></ol> <h3 id="组件属性"><a href="#组件属性" aria-hidden="true" class="header-anchor">#</a> 组件属性</h3> <ul><li><code>window.locationbar.visible</code>：地址栏对象</li> <li><code>window.menubar</code>：菜单栏对象</li> <li><code>window.scrollbars</code>：窗口的滚动条对象</li> <li><code>window.toolbar</code>：工具栏对象</li> <li><code>window.statusbar</code>：状态栏对象</li> <li><code>window.personalbar</code>：用户安装的个人工具栏对象</li></ul> <h3 id="全局对象属性"><a href="#全局对象属性" aria-hidden="true" class="header-anchor">#</a> 全局对象属性</h3> <p><code>window.isSecureContext</code>属性返回一个布尔值，表示当前窗口是否处在加密环境。如果是 HTTPS 协议，就是<code>true</code>，否则就是<code>false</code>。</p> <p><code>window.confirm()</code> <code>window.alter()</code> confirm提示框 去人取消</p> <div class="language-js extra-class"><pre class="language-js"><code>window<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>
  <span class="token string">'https://baidu.com'</span><span class="token punctuation">,</span>
  <span class="token string">'DefinitionsWindows'</span><span class="token punctuation">,</span>
  <span class="token string">'height=200,width=200,location=no,status=yes,resizable=yes,scrollbars=yes'</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//打开一个百度小窗口 宽高 200px</span>
</code></pre></div><h2 id="navigator-对象"><a href="#navigator-对象" aria-hidden="true" class="header-anchor">#</a> navigator 对象</h2> <h3 id="属性："><a href="#属性：" aria-hidden="true" class="header-anchor">#</a> 属性：</h3> <ol><li><p><code>navigator.userAgent</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//可以大致准确地识别手机浏览器</span>
<span class="token keyword">var</span> ua <span class="token operator">=</span> navigator<span class="token punctuation">.</span>userAgent<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//&quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.90 Safari/537.36&quot;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex">/mobi/i</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>ua<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 手机浏览器</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
  <span class="token comment">// 非手机浏览器</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p><code>Navigator.plugins</code>属性返回一个类似数组的对象，成员是 Plugin 实例对象，表示浏览器安装的插件，比如 Flash、ActiveX 等。</p></li> <li><p><code>Navigator.platform</code>属性返回用户的操作系统信息</p></li> <li><p><code>navigator.onLine</code>属性返回一个布尔值，表示用户当前在线还是离线（浏览器断线）</p></li> <li><p><code>Navigator.language</code>属性返回一个字符串，表示浏览器的首选语言。</p></li> <li><p><code>Navigator.cookieEnabled</code>属性返回一个布尔值，表示浏览器的 Cookie 功能是否打开</p></li></ol> <h3 id="方法："><a href="#方法：" aria-hidden="true" class="header-anchor">#</a> 方法：</h3> <ol><li><code>Navigator.javaEnabled()</code>方法返回一个布尔值，表示浏览器是否能运行 Java Applet 小程序。</li> <li><code>Navigator.sendBeacon()</code>方法用于向服务器异步发送数据</li></ol> <h2 id="screen-对象"><a href="#screen-对象" aria-hidden="true" class="header-anchor">#</a> screen 对象</h2> <h3 id="属性：-2"><a href="#属性：-2" aria-hidden="true" class="header-anchor">#</a> 属性：</h3> <ul><li><code>Screen.height</code>：浏览器窗口所在的屏幕的高度（单位像素）。除非调整显示器的分辨率，否则这个值可以看作常量，不会发生变化。显示器的分辨率与浏览器设置无关，缩放网页并不会改变分辨率。</li> <li><code>Screen.width</code>：浏览器窗口所在的屏幕的宽度（单位像素）。</li> <li><code>Screen.availHeight</code>：浏览器窗口可用的屏幕高度（单位像素）。因为部分空间可能不可用，比如系统的任务栏或者 Mac 系统屏幕底部的 Dock 区，这个属性等于<code>height</code>减去那些被系统组件的高度。</li> <li><code>Screen.availWidth</code>：浏览器窗口可用的屏幕宽度（单位像素）。</li> <li><code>Screen.pixelDepth</code>：整数，表示屏幕的色彩位数，比如<code>24</code>表示屏幕提供24位色彩。</li> <li><code>Screen.colorDepth</code>：<code>Screen.pixelDepth</code>的别名。严格地说，colorDepth 表示应用程序的颜色深度，pixelDepth 表示屏幕的颜色深度，绝大多数情况下，它们都是同一件事。</li> <li><code>Screen.orientation</code>：返回一个对象，表示屏幕的方向。该对象的<code>type</code>属性是一个字符串，表示屏幕的具体方向，<code>landscape-primary</code>表示横放，<code>landscape-secondary</code>表示颠倒的横放，<code>portrait-primary</code>表示竖放，<code>portrait-secondary</code>。</li></ul> <h3 id="方法"><a href="#方法" aria-hidden="true" class="header-anchor">#</a> 方法</h3> <p>下面是根据屏幕的宽度，将用户导向不同网页的代码。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>screen<span class="token punctuation">.</span>width <span class="token operator">&lt;=</span> <span class="token number">800</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>screen<span class="token punctuation">.</span>height <span class="token operator">&lt;=</span> <span class="token number">600</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  window<span class="token punctuation">.</span>location<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">'small.html'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
  window<span class="token punctuation">.</span>location<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">'wide.html'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="cookie"><a href="#cookie" aria-hidden="true" class="header-anchor">#</a> Cookie</h2> <ol><li><p><code>window.navigator.cookieEnabled</code>属性返回一个布尔值，表示浏览器是否打开 Cookie 功能。</p></li> <li><p><code>document.cookie</code>属性返回当前网页的 Cookie。</p> <blockquote><p>浏览器的同源政策规定，两个网址只要域名相同和端口相同，就可以共享 Cookie</p></blockquote></li></ol> <h3 id="cookie与http协议"><a href="#cookie与http协议" aria-hidden="true" class="header-anchor">#</a> cookie与http协议</h3> <ol><li><p>服务器在浏览器保存Cookie就要在 HTTP 回应的头信息里面，放置一个<code>Set-Cookie</code>字段</p> <div class="language-http extra-class"><pre class="language-http"><code><span class="token header-name keyword">Set-Cookie:</span> &lt;cookie-name&gt;=&lt;cookie-value&gt;; Expires=Wed, 21 Oct 2015 07:28:00 GMT;
<span class="token header-name keyword">Set-Cookie:</span> &lt;cookie-name&gt;=&lt;cookie-value&gt;; Max-Age=&lt;non-zero-digit&gt;
<span class="token header-name keyword">Set-Cookie:</span> &lt;cookie-name&gt;=&lt;cookie-value&gt;; Domain=&lt;domain-value&gt;
<span class="token header-name keyword">Set-Cookie:</span> &lt;cookie-name&gt;=&lt;cookie-value&gt;; Path=&lt;path-value&gt;
<span class="token header-name keyword">Set-Cookie:</span> &lt;cookie-name&gt;=&lt;cookie-value&gt;; Secure
<span class="token header-name keyword">Set-Cookie:</span> &lt;cookie-name&gt;=&lt;cookie-value&gt;; HttpOnly

<span class="token response-status">HTTP/1.0 <span class="token property">200 OK</span></span>
<span class="token header-name keyword">Content-type:</span> text/html
<span class="token header-name keyword">Set-Cookie:</span> yummy_cookie=choco
<span class="token header-name keyword">Set-Cookie:</span> tasty_cookie=strawberry<span class="token text/html">

[page content]
</span></code></pre></div></li> <li><p>把服务器早前保存在浏览器的这段信息，再发回服务器。这时要使用 HTTP 头信息的<code>Cookie</code>字段。</p> <div class="language-http extra-class"><pre class="language-http"><code><span class="token request-line"><span class="token property">GET</span> /sample_page.html HTTP/1.1</span>
<span class="token header-name keyword">Host:</span> www.example.org
<span class="token header-name keyword">Cookie:</span> yummy_cookie=choco; tasty_cookie=strawberry
</code></pre></div></li> <li><p><code>Secure</code>属性指定浏览器只有在加密协议 HTTPS 下，才能将这个 Cookie 发送到服务器。另一方面，如果当前协议是 HTTP，浏览器会自动忽略服务器发来的<code>Secure</code>属性。该属性只是一个开关，不需要指定值。如果通信是 HTTPS 协议，该开关自动打开。</p></li> <li><p><code>HttpOnly</code>属性指定该 Cookie 无法通过 JavaScript 脚本拿到，主要是<code>document.cookie</code>属性、<code>XMLHttpRequest</code>对象和 Request API 都拿不到该属性。这样就防止了该 Cookie 被脚本读到，只有浏览器发出 HTTP 请求时，才会带上该 Cookie。</p></li> <li><p>浏览器的 Cookie 新增加了一个<code>SameSite</code>属性，用来防止 CSRF 攻击和用户追踪。</p> <ul><li><p><code>Strict</code>最为严格，完全禁止第三方 Cookie，跨站点时，任何情况下都不会发送 Cookie。换言之，只有当前网页的 URL 与请求目标一致，才会带上 Cookie。</p></li> <li><p><code>Lax</code>规则稍稍放宽，大多数情况也是不发送第三方 Cookie，但是导航到目标网址的 Get 请求除外。</p></li> <li><p>Chrome 计划将<code>Lax</code>变为默认设置。这时，网站可以选择显式关闭<code>SameSite</code>属性，将其设为<code>None</code>。不过，前提是必须同时设置<code>Secure</code>属性（Cookie 只能通过 HTTPS 协议发送），否则无效。</p> <div class="language-http extra-class"><pre class="language-http"><code><span class="token header-name keyword">Set-Cookie:</span> widget_session=abc123; SameSite=None; Secure
</code></pre></div></li></ul></li></ol> <h2 id="storage-对象"><a href="#storage-对象" aria-hidden="true" class="header-anchor">#</a> Storage 对象</h2> <p><code>window.sessionStorage</code>和<code>window.localStorage</code></p> <div class="language-js extra-class"><pre class="language-js"><code>window<span class="token punctuation">.</span>sessionStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">'key'</span><span class="token punctuation">,</span> <span class="token string">'value'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
window<span class="token punctuation">.</span>localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">'key'</span><span class="token punctuation">,</span> <span class="token string">'value'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
window<span class="token punctuation">.</span>localStorage<span class="token punctuation">.</span>length <span class="token comment">// 3</span>
window<span class="token punctuation">.</span>sessionStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> foo<span class="token punctuation">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
window<span class="token punctuation">.</span>sessionStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'3'</span><span class="token punctuation">)</span> <span class="token comment">// &quot;[object Object]&quot;</span>
<span class="token comment">//三种写法</span>
window<span class="token punctuation">.</span>localStorage<span class="token punctuation">.</span>foo <span class="token operator">=</span> <span class="token string">'123'</span><span class="token punctuation">;</span>
window<span class="token punctuation">.</span>localStorage<span class="token punctuation">[</span><span class="token string">'foo'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'123'</span><span class="token punctuation">;</span>
window<span class="token punctuation">.</span>localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">,</span> <span class="token string">'123'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//获取对象</span>
window<span class="token punctuation">.</span>sessionStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'key'</span><span class="token punctuation">)</span>
window<span class="token punctuation">.</span>localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'key'</span><span class="token punctuation">)</span>
<span class="token comment">//用于清除某个键名对应的键值</span>
sessionStorage<span class="token punctuation">.</span><span class="token function">removeItem</span><span class="token punctuation">(</span><span class="token string">'key'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
localStorage<span class="token punctuation">.</span><span class="token function">removeItem</span><span class="token punctuation">(</span><span class="token string">'key'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//于清除所有保存的数据</span>
window<span class="token punctuation">.</span>sessionStorage<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
window<span class="token punctuation">.</span>localStorage<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">//用Storage.length属性和Storage.key()方法，可以遍历所有的键。</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> window<span class="token punctuation">.</span>localStorage<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>localStorage<span class="token punctuation">.</span><span class="token function">key</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="history-对象"><a href="#history-对象" aria-hidden="true" class="header-anchor">#</a> History 对象</h2> <div class="language-js extra-class"><pre class="language-js"><code>window<span class="token punctuation">.</span>history<span class="token punctuation">.</span>length
<span class="token comment">// 后退到前一个网址</span>
history<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// 等同于</span>
history<span class="token punctuation">.</span><span class="token function">go</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
</code></pre></div><ul><li><p><code>History.back()</code>：移动到上一个网址，等同于点击浏览器的后退键。对于第一个访问的网址，该方法无效果。</p></li> <li><p><code>History.forward()</code>：移动到下一个网址，等同于点击浏览器的前进键。对于最后一个访问的网址，该方法无效果。</p></li> <li><p><code>History.go()</code>：接受一个整数作为参数，以当前网址为基准，移动到参数指定的网址，比如<code>go(1)</code>相当于<code>forward()</code>，<code>go(-1)</code>相当于<code>back()</code>。如果参数超过实际存在的网址范围，该方法无效果；如果不指定参数，默认参数为<code>0</code>，相当于刷新当前页面。</p></li> <li><p><code>History.pushState()</code>方法用于在历史中添加一条记录。</p> <div class="language-js extra-class"><pre class="language-js"><code>window<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">pushState</span><span class="token punctuation">(</span>state<span class="token punctuation">,</span> title<span class="token punctuation">,</span> url<span class="token punctuation">)</span>
</code></pre></div><ul><li><code>state</code>：一个与添加的记录相关联的状态对象，主要用于<code>popstate</code>事件。该事件触发时，该对象会传入回调函数。也就是说，浏览器会将这个对象序列化以后保留在本地，重新载入这个页面的时候，可以拿到这个对象。如果不需要这个对象，此处可以填<code>null</code>。</li> <li><code>title</code>：新页面的标题。但是，现在所有浏览器都忽视这个参数，所以这里可以填空字符串。</li> <li><code>url</code>：新的网址，必须与当前页面处在同一个域。浏览器的地址栏将显示这个网址。</li></ul></li> <li><p><code>History.replaceState()</code>方法用来修改 History 对象的当前记录，其他都与<code>pushState()</code>方法一模一样。</p></li></ul> <div class="language-js extra-class"><pre class="language-js"><code>history<span class="token punctuation">.</span><span class="token function">pushState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>page<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">'title 1'</span><span class="token punctuation">,</span> <span class="token string">'?page=1'</span><span class="token punctuation">)</span>
<span class="token comment">// URL 显示为 http://example.com/example.html?page=1</span>
history<span class="token punctuation">.</span><span class="token function">pushState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>page<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">'title 2'</span><span class="token punctuation">,</span> <span class="token string">'?page=2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// URL 显示为 http://example.com/example.html?page=2</span>
history<span class="token punctuation">.</span><span class="token function">replaceState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>page<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">'title 3'</span><span class="token punctuation">,</span> <span class="token string">'?page=3'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// URL 显示为 http://example.com/example.html?page=3</span>
history<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// URL 显示为 http://example.com/example.html?page=1</span>
history<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// URL 显示为 http://example.com/example.html</span>
history<span class="token punctuation">.</span><span class="token function">go</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token comment">// URL 显示为 http://example.com/example.html?page=3</span>
</code></pre></div><ul><li><p>每当同一个文档的浏览历史（即<code>history</code>对象）出现变化时，就会触发<code>popstate</code>事件。</p> <blockquote><p>只有用户点击浏览器倒退按钮和前进按钮，或者使用 JavaScript 调用<code>History.back()</code>、<code>History.forward()</code>、<code>History.go()</code>方法时才会触发。另外，该事件只针对同一个文档，如果浏览历史的切换，导致加载不同的文档，该事件也不会触发。</p></blockquote></li></ul> <div class="language-js extra-class"><pre class="language-js"><code>window<span class="token punctuation">.</span><span class="token function-variable function">onpopstate</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'location: '</span> <span class="token operator">+</span> document<span class="token punctuation">.</span>location<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'state: '</span> <span class="token operator">+</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>state<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 或者</span>
window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'popstate'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'location: '</span> <span class="token operator">+</span> document<span class="token punctuation">.</span>location<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'state: '</span> <span class="token operator">+</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>state<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="location-对象"><a href="#location-对象" aria-hidden="true" class="header-anchor">#</a> Location 对象</h2> <h3 id="属性：-3"><a href="#属性：-3" aria-hidden="true" class="header-anchor">#</a> 属性：</h3> <ul><li><code>Location</code>对象是浏览器提供的原生对象，提供 URL 相关的信息和操作方法。通过<code>window.location</code>和<code>document.location</code>属性，可以拿到这个对象。
<ul><li><code>Location.href</code>：整个 URL。</li> <li><code>Location.protocol</code>：当前 URL 的协议，包括冒号（<code>:</code>）。</li> <li><code>Location.host</code>：主机。如果端口不是协议默认的<code>80</code>和<code>433</code>，则还会包括冒号（<code>:</code>）和端口。</li> <li><code>Location.hostname</code>：主机名，不包括端口。</li> <li><code>Location.port</code>：端口号。</li> <li><code>Location.pathname</code>：URL 的路径部分，从根路径<code>/</code>开始。</li> <li><code>Location.search</code>：查询字符串部分，从问号<code>?</code>开始。</li> <li><code>Location.hash</code>：片段字符串部分，从<code>#</code>开始。</li> <li><code>Location.username</code>：域名前面的用户名。</li> <li><code>Location.password</code>：域名前面的密码。</li> <li><code>Location.origin</code>：URL 的协议、主机名和端口。</li></ul></li></ul> <h3 id="方法：-2"><a href="#方法：-2" aria-hidden="true" class="header-anchor">#</a> 方法：</h3> <ul><li><p><strong>Location.assign()</strong> <code>assign</code>方法接受一个 URL 字符串作为参数，使得浏览器立刻跳转到新的 URL。如果参数不是有效的 URL 字符串，则会报错。</p> <div class="language-js extra-class"><pre class="language-js"><code>document<span class="token punctuation">.</span>location<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token string">'http://www.example.com'</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p><strong>Location.replace()</strong> <code>replace</code>方法接受一个 URL 字符串作为参数，使得浏览器立刻跳转到新的 URL。如果参数不是有效的 URL 字符串，则会报错。</p></li> <li><p><strong>Location.repload()</strong> <code>reload</code>方法使得浏览器重新加载当前网址，相当于按下浏览器的刷新按钮。</p></li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/FDMap/DOM.html" class="prev">Dom</a></span> <span class="next"><a href="/FDMap/ES6.html">ES6</a>→
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.81045a9c.js" defer></script><script src="/assets/js/2.9b2c206e.js" defer></script><script src="/assets/js/5.9aadbdc1.js" defer></script>
  </body>
</html>
